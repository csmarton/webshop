{% extends "BackendLayoutBundle:Default:layout.html.twig" %}

{% block title%} WebShopAdmin - Termékek {% endblock %}
{% block bodyClass %}class="index_page"{% endblock%}
 
{% block javascripts %}
	{{ parent() }}
    <script type="text/javascript">
            $(document).ready(function(){
                
            });
    </script>
{% endblock %}
 
{% block main %} 
    <div class="main">
        <h2>Termékek</h2>
        <div class="upperMenu">
            <div class="left-side">
                <div class="upperMenu filter-order-menu">
                    <label for="filter-product-id">Azonosító:</label>
                    <input type="text" id="filter-product-name" name="filter-product-name">
                    <label for="filter-product-name">Terméknév:</label>
                    <input type="text" id="filter-product-name" name="filter-product-name">
                    <label for="filter-product-active">Aktív:</label>
                    <select id="filter-product-active" name="filter-product-active">
                        <option value=""></option>
                        <option value="yes">Aktív</option>
                        <option value="no">Inaktív</option>
                    </select>
                    <label for="filter-product-categroy">Kategória:</label>
                    <select id="filter-product-categroy" name="filter-product-categroy">
                        <option value=""></option>
                        <option value="asus">Asus</option>
                    </select>   
                    <a href="javascript:void(0)" type="button"class="menu_btn ok_btn" id="filter-order-button" link="{{path('backend_admin_order_list')}}"/>Szűrés</a>
                </div>
            </div>
            <div class="right-side">                
                <a href="{{path('backend_admin_product_new')}}" class="menu_btn">Új Termék</a>
            </div>
            
        </div>
        
        <table class="product_table">
            <thead>
                <tr>
                    <th scope="col">Id</th>
                    <th scope="col">Terméknév</th>
                    <th scope="col">Bruttó ár</th>
                    <th scope="col">Nettó ár</th>
                    <th scope="col">Slug</th>
                    <th scope="col">Létrehozás dátuma</th>
                    <th scope="col">Frissítve</th>
                    <th scope="col">Kategória</th>
                    <th scope="col">Aktív?</th>
                    <th scope="col">Raktáron</th>
                    <th scope="col">Műveletek</th>
                </tr>
            </thead>
            <tbody>
                {% for product in products %}
                    <tr>
                        <td>{{ product.getId() }}</td>
                        <td>{{ product.getName() }}</td>
                        <td>{{ product.getPrice() }}</td>
                        <td>{{ (product.getPrice()/1.27)|round(0, 'floor') }}</td>
                        <td>{{ product.getSlug() }}</td>  
                        <td>{{ product.getCreatedAt()|date('Y-m-d')}}</td>
                        <td>{{ product.getUpdatedAt()|date('Y-m-d')}}</td>
                        <td>
                            {% if (product.getCategorys() is not null and product.getCategorys().getId() != 0)%}
                                {{ product.getCategorys().getName()}}
                            {% endif %}
                        </td>
                        <td>
                            {% if (product.getIsActive() == 1)%}
                                Igen
                            {% else %}
                                Nem
                            {% endif %}
                        </td>
                        <td>
                             {{product.getInStock()}} db
                        </td>
                        <td class="product_edit_btn">
                            <a href="{{path('backend_admin_product_new',{'productId':product.getId()}) }}" class="menu_btn edit_btn">Szerkesztés</a>
                            <a href="#" class="deleteProduct menu_btn warning_btn delete_btn" productId="{{product.getId()}}">Törlés</a>
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
        
    </div>
    
<div id="modal-delete-product" class="reveal-modal">
    <div class="formContent">
        <div class="topSection">
            <div class="modal-content">
                <h2>Biztosan törölni szeretnéd ezt a terméket? </h2>
            </div>
        </div>
        <div class="bottomSection">
            <div class="inputs">
                <input type="button" class="delete-product-button" value="Törlés" href="{{path('backend_admin_product_remove')}}">
                <input type="button" class="cancel exit-reveal-modal" value="Mégse">                        
            </div>
        </div>
    </div>
</div>
    
{% endblock %}
                  